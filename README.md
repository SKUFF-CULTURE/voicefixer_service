# VoiceFixerService

**VoiceFixerService** ‚Äî –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–µ—Ç—Ä–æ-–∞—É–¥–∏–æ–∑–∞–ø–∏—Å–µ–π. –ò—Å–ø–æ–ª—å–∑—É—è  (`demucs`) –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∑–≤—É–∫–∞ (`voicefixer`), —Å–µ—Ä–≤–∏—Å —É–¥–∞–ª—è–µ—Ç —à—É–º—ã, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∏ –ø–æ–≤—ã—à–∞–µ—Ç —á—ë—Ç–∫–æ—Å—Ç—å –≤–æ–∫–∞–ª–∞ –≤ —Å—Ç–∞—Ä—ã—Ö –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞—Ö. 

### üö∑ –í –ü–†–û–¶–ï–°–°–ï–ï –ò–ù–¢–†–ï–ì–†–ê–¶–ò–ò –í [BACKEND](https://github.com/SKUFF-CULTURE/VOV_backend). –ù–ï –ü–†–ï–î–ü–û–õ–ê–ì–ê–ï–¢–°–Ø –ò–ó–û–õ–ò–†–û–í–ê–ù–ù–´–ô –ó–ê–ü–£–°–ö!!!

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–µ–∫**: –ò–∑–æ–ª—è—Ü–∏—è –≤–æ–∫–∞–ª–∞, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é `demucs`.
- **–£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∑–≤—É–∫–∞**: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —à—É–º–∞ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Ç—Ä–∞—á–µ–Ω–Ω—ã—Ö —á–∞—Å—Ç–æ—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `voicefixer`.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤**: –û–±—Ä–∞–±–æ—Ç–∫–∞ MP3, WAV, FLAC –∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∞—É–¥–∏–æ—Ñ–æ—Ä–º–∞—Ç–æ–≤.
- **GPU-—É—Å–∫–æ—Ä–µ–Ω–∏–µ**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å NVIDIA GPU —á–µ—Ä–µ–∑ Docker.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **–Ø–∑—ã–∫**: Python 3.11
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏**:
  - `demucs`: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–µ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≥–ª—É–±–æ–∫–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.
  - `voicefixer`: –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∑–≤—É–∫–∞ –∏ —Ä–µ—á–∏.
  - `PyTorch`: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–¥–µ–ª–µ–π –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.
  - `ffmpeg`: –†–∞–±–æ—Ç–∞ —Å –∞—É–¥–∏–æ
- **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**: Docker —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π GPU.
- **–§–æ—Ä–º–∞—Ç—ã –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞**: MP3, WAV, FLAC.
- **–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è**: Kafka

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –ø–∞–π–ø–ª–∞–π–Ω [pipeline.py](pipeline.py):

1. **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è**: [convertor](convertor.py)
2. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ —à—É–º–æ–≤**: [noisereduce_processing](noisereduce_processing.py)
3. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –ø–æ–º–æ—â—å—é `demucs`**: [demucs_processing.py](demucs_processing.py)
4. **–£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∑–≤—É–∫–∞ —á–µ—Ä–µ–∑ `voicefixer`**: [fixer_processing](fixer_processing.py)
5. **–°–≤–µ–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –¥–æ—Ä–æ–∂–µ–∫ –∏ —ç–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.**: [mixer_processing](mixer_processing_legacy.py)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker
- NVIDIA GPU —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º CUDA –∏ Docker NVIDIA Container Toolkit (—É—á—Ç–µ–Ω–æ –≤ Docker)

### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –°–æ–±–µ—Ä–∏—Ç–µ Docker-–æ–±—Ä–∞–∑:
   ```bash
   make build
   ```
   –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –æ–±—Ä–∞–∑ —Å –∏–º–µ–Ω–µ–º `voicefixer`.

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
   ```bash
   make run
   ```
